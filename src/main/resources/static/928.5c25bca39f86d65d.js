"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[928],{5928:(re,v,c)=>{c.r(v),c.d(v,{PagesModule:()=>oe});var p=c(9808),_=c(5290),e=c(1223),Z=c(9358),x=c(4004),h=c(262),T=c(9646),A=c(4128),b=c(8746),N=c(5226),d=c.n(N),u=c(520),g=c(2340);let M=(()=>{class t{constructor(i){this.httpClient=i}credencialResidencial(i){const n=new u.WM({"Content-Type":"application/json;charset=UTF-8"});return this.httpClient.post(g.N.url+"/api/residencial",i,{headers:n})}crearAccesos(i){const n=new u.WM({"Content-Type":"application/json;charset=UTF-8"});return this.httpClient.post(g.N.url+"/api/accesos",i,{headers:n})}editarAcceso(i,n){const o=new u.WM({"Content-Type":"application/json;charset=UTF-8"});return this.httpClient.put(g.N.url+"/api/accesos/"+n,i,{headers:o})}obtenerAccesosPorIdResidencial(i){return this.httpClient.get(g.N.url+"/api/accesos/residencial/"+i)}obtenerResidenciales(){return this.httpClient.get(g.N.url+"/api/residencial")}editarResidencial(i,n){const o=new u.WM({"Content-Type":"application/json;charset=UTF-8"});return this.httpClient.put(g.N.url+"/api/residencial/"+n,i,{headers:o})}obtenerResidencialPorId(i){return this.httpClient.get(g.N.url+"/api/residencial/"+i)}eliminarResidencial(i){return this.httpClient.delete(g.N.url+"/api/residencial/"+i)}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(u.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=c(3075),C=c(2932);function G(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){return e.CHM(i),e.oxw().generarResidencial()}),e._uU(1,"Generar Residencial"),e.qZA()}}function y(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){return e.CHM(i),e.oxw().generarAcceso()}),e._uU(1),e.qZA()}if(2&t){const i=e.oxw();e.xp6(1),e.Oqu(1==i.esGarage?"Generar Garage":"Generar Acceso")}}function k(t,a){if(1&t&&e._UZ(0,"map-circle",18),2&t){const i=e.oxw(3);e.Q6J("radius",i.residencial.circle.radius)("center",i.residencial.circle.center)}}function J(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"map-marker",16),e.NdJ("mapDragend",function(o){e.CHM(i);const r=e.oxw(2);return r.actualizarPosicionResidencial(o,r.residencial)}),e.YNc(1,k,1,2,"map-circle",17),e.qZA()}if(2&t){const i=e.oxw(2);e.Q6J("position",i.residencial.position)("options",i.residencial.options),e.xp6(1),e.Q6J("ngIf",i.residencial.circle)}}function O(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"map-marker",16),e.NdJ("mapDragend",function(o){const s=e.CHM(i).$implicit;return e.oxw(2).actualizarPosicion(o,s)}),e._UZ(1,"map-circle",19),e.qZA()}if(2&t){const i=a.$implicit;e.Q6J("position",i.position)("options",i.options),e.xp6(1),e.Q6J("radius",i.circle.radius)("center",i.circle.center)("options",i.circle.options)}}function I(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"div")(1,"google-map",12,13),e.NdJ("mapClick",function(o){return e.CHM(i),e.oxw().moveMap(o)})("mapMousemove",function(o){return e.CHM(i),e.oxw().move(o)}),e.YNc(3,J,2,3,"map-marker",14),e.YNc(4,O,2,5,"map-marker",15),e.qZA()()}if(2&t){const i=e.oxw();e.xp6(1),e.Q6J("center",null!=i.residencial.position?i.residencial.position:i.centerMap)("zoom",15),e.xp6(2),e.Q6J("ngIf",null!=i.residencial),e.xp6(1),e.Q6J("ngForOf",null==i.residencial?null:i.residencial.accesos)}}function S(t,a){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.hij("Latitude: ",null==i.residencial?null:i.residencial.position.lat,"")}}function w(t,a){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.hij("Longitude: ",null==i.residencial?null:i.residencial.position.lng,"")}}function E(t,a){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const i=e.oxw().$implicit;e.xp6(1),e.hij("Latitude: ",null==i?null:i.position.lat,"")}}function F(t,a){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const i=e.oxw().$implicit;e.xp6(1),e.hij("Longitude: ",null==i?null:i.position.lng,"")}}function L(t,a){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const i=e.oxw().$implicit;e.xp6(1),e.hij("Latitude: ",null==i?null:i.longitudCaseta,"")}}function Y(t,a){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const i=e.oxw().$implicit;e.xp6(1),e.hij("Longitude: ",null==i?null:i.latitudCaseta,"")}}function Q(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"div",20)(1,"div",21)(2,"input",22),e.NdJ("ngModelChange",function(o){return e.CHM(i).$implicit.nombre=o}),e.qZA(),e.TgZ(3,"input",23),e.NdJ("ngModelChange",function(o){return e.CHM(i).$implicit.direccion=o}),e.qZA(),e.TgZ(4,"input",24),e.NdJ("ngModelChange",function(o){return e.CHM(i).$implicit.precio=o}),e.qZA(),e.TgZ(5,"input",25),e.NdJ("ngModelChange",function(o){return e.CHM(i).$implicit.radio=o})("input",function(o){const s=e.CHM(i).$implicit;return e.oxw().radioAccesoChange(o,s)}),e.qZA()(),e.YNc(6,E,2,1,"div",7),e.YNc(7,F,2,1,"div",7),e.YNc(8,L,2,1,"div",7),e.YNc(9,Y,2,1,"div",7),e.qZA()}if(2&t){const i=a.$implicit,n=e.oxw();e.xp6(2),e.Q6J("ngModel",i.nombre),e.xp6(1),e.Q6J("ngModel",i.direccion),e.xp6(1),e.Q6J("ngModel",i.precio),e.xp6(1),e.Q6J("ngModel",i.radio)("value",0),e.xp6(1),e.Q6J("ngIf",!n.editar),e.xp6(1),e.Q6J("ngIf",!n.editar),e.xp6(1),e.Q6J("ngIf",n.editar),e.xp6(1),e.Q6J("ngIf",n.editar)}}function P(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){return e.CHM(i),e.oxw().guardarTodo()}),e._uU(1,"Guardar Todo"),e.qZA()}}let U=(()=>{class t{constructor(i,n,o){if(this.httpClient=i,this.residencialService=n,this.activateRoute=o,this.residencial={},this.usuarioId="",this.direccion="",this.nombre="",this.numSerie="",this.idResidencial="",this.radio=0,this.colors=["green","blue","yellow","red","purple","orange"],this.esGarage=!1,this.centerMap={lat:29.07497302489944,lng:-111.02811814895006},this.center={lat:29.07497302489944,lng:-111.02811814895006},this.editar=!1,this.residencial.accesos=[],this.apiLoaded=i.jsonp("https://maps.googleapis.com/maps/api/js?key=AIzaSyC7OWr5lnkavYApHdVUu6ywbjfKgXwyfxk","callback").pipe((0,x.U)(()=>!0),(0,h.K)(()=>(0,T.of)(!1))),"garage"==o.snapshot.url[0].path&&(this.esGarage=!0),o.snapshot.params.id){let r=o.snapshot.params.id;this.usuarioId=o.snapshot.params.idUsuario,this.editar=!0,this.residencialService.obtenerResidencialPorId(r).subscribe(s=>{this.direccion=s.direccion,this.nombre=s.nombre,this.radio=s.radio,this.generarResidencial(s),this.residencialService.obtenerAccesosPorIdResidencial(r).subscribe(l=>{l.forEach(m=>{this.generarAcceso(m)})})})}else this.editar=!1;navigator.geolocation?navigator.geolocation.getCurrentPosition(this.successCallback.bind(this),this.errorCallback.bind(this)):console.log("La geolocalizaci\xf3n no es compatible en este navegador.")}successCallback(i){this.location=i.coords,console.log("Latitud: ",this.location.latitude),console.log("Longitud: ",this.location.longitude)}errorCallback(i){console.error("Error al obtener la ubicaci\xf3n: ",i)}moveMap(i){}move(i){this.display=i.latLng.toJSON()}generarResidencial(i){var n,o;if(this.editar){console.log("ajksdjkasd");let r={lat:Number(i.latitudResidencial),lng:Number(i.longitudResidencial)},l={idResidencial:i.idResidencial,numeroSerie:i.numeroSerie,position:r,options:{draggable:!0},circle:{radius:this.radio,center:r},accesos:[]};this.residencial=l,console.log(l)}else{let r={lat:null===(n=this.centerMap)||void 0===n?void 0:n.lat,lng:null===(o=this.centerMap)||void 0===o?void 0:o.lng};this.residencial={position:r,options:{draggable:!0},circle:{radius:this.radio,center:r},accesos:[]},console.log(this.residencial)}}radioChange(i){this.residencial.circle.radius=Number(i.target.value)}radioAccesoChange(i,n){n.circle.radius=Number(i.target.value)}actualizarPosicionResidencial(i,n){const o={lat:i.latLng.lat(),lng:i.latLng.lng()};n.position=o,n.circle.center=o}generateRandomNumber(){return Math.floor(1e3+9e3*Math.random())}getRandomInt(i){return Math.floor(Math.random()*i)}generarAcceso(i){if(console.log(i),this.editar&&null!=i){console.log("entro");let n={lat:Number(i.latitudCaseta),lng:Number(i.longitudCaseta)},o={draggable:!0},r={fillColor:this.colors[this.getRandomInt(this.colors.length)]},s={id:i.idAcceso,position:n,options:o,circle:{radius:i.radio,center:n,options:r},nombre:i.nombre,direccion:i.direccion,precio:i.precio,radio:i.radio,longitudCaseta:i.longitudCaseta,latitudCaseta:i.latitudCaseta};console.log(s),this.residencial.accesos.push(s)}else{let n={lat:this.residencial.position.lat,lng:this.residencial.position.lng},o={draggable:!0},r={fillColor:this.colors[this.getRandomInt(this.colors.length)]};this.residencial.accesos.push({position:n,options:o,circle:{radius:3,center:n,options:r}})}}actualizarPosicion(i,n){const o={lat:i.latLng.lat(),lng:i.latLng.lng()};this.editar?(n.latitudCaseta=Number(i.latLng.lat()),n.longitudCaseta=Number(i.latLng.lng()),n.position=o,console.log(n)):n.position=o,n.circle.center=o}guardarTodo(){if(d().showLoading(),this.editar)this.residencialService.editarResidencial({nombre:this.nombre,direccion:this.direccion,numeroSerie:this.residencial.numeroSerie,latitudResidencial:this.residencial.position.lat,longitudResidencial:this.residencial.position.lng,radio:this.residencial.circle.radius},this.residencial.idResidencial).subscribe({next:n=>{d().fire("Listo!","Residencial editada correctamente","success");const o=this.residencial.accesos.map((r,s)=>{const l={idAcceso:null!=r.id?r.id:0,idResidencial:this.residencial.idResidencial,latitudCaseta:r.latitudCaseta,longitudCaseta:r.longitudCaseta,direccion:r.direccion,nombre:r.nombre,precio:r.precio,radio:r.circle.radius,garage:this.esGarage,usuarioId:this.usuarioId};return 0==l.idAcceso?(console.log("ENTRO A CREACI\xd3N UWUWUWU"),this.residencialService.crearAccesos(l).pipe((0,h.K)(m=>{throw console.log("Error!!",m.error.message),m}))):this.residencialService.editarAcceso(l,l.idAcceso).pipe((0,h.K)(m=>{throw console.log("Error!!",m.error.message),m}))});(0,A.D)(o).pipe((0,h.K)(r=>{throw console.log("Error!!",r.error.message),r}),(0,b.x)(()=>{d().fire("Listo!","Residencial Editada correctamente","success"),this.residencial.accesos=[]})).subscribe(r=>{r.forEach(s=>{this.numSerie=s.numSerie,this.idResidencial=s.idResidencial,console.log("Respuesta: ",s)}),(0,b.x)(()=>{d().fire("Error!",n.error.error,"error")})})},error:n=>{d().fire("Error!",n.error.error,"error")}});else{const i={nombre:this.nombre,direccion:this.direccion,numeroSerie:this.generateRandomNumber(),latitudResidencial:this.residencial.position.lat,longitudResidencial:this.residencial.position.lng,radio:this.residencial.circle.radius};this.residencialService.credencialResidencial(i).pipe((0,h.K)(n=>{throw console.log("Error!!",n.error.message),n})).subscribe(n=>{this.numSerie=n.numSerie,this.idResidencial=n.idResidencial,console.log("Respuesta: ",n);const o=this.residencial.accesos.map((r,s)=>this.residencialService.crearAccesos({idResidencial:this.idResidencial,latitudCaseta:r.position.lat,longitudCaseta:r.position.lng,direccion:r.direccion,nombre:r.nombre,precio:r.precio,radio:r.circle.radius}).pipe((0,h.K)(m=>{throw console.log("Error!!",m.error.message),m})));(0,A.D)(o).pipe((0,h.K)(r=>{throw console.log("Error!!",r.error.message),r}),(0,b.x)(()=>{d().fire("Listo!","Residencial Creada correctamente","success"),this.residencial=null,this.residencial.accesos=[]})).subscribe(r=>{r.forEach(s=>{this.numSerie=s.numSerie,this.idResidencial=s.idResidencial,console.log("Respuesta: ",s)}),(0,b.x)(()=>{})})})}}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(u.eN),e.Y36(M),e.Y36(_.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["google-maps"]],decls:20,vars:14,consts:[[1,"container"],[1,"input-container","card","p-4"],["type","text","placeholder","Nombre de la residencial",1,"form-control","mt-2",3,"ngModel","ngModelChange"],["type","text","placeholder","Direccion",1,"form-control","mt-2",3,"ngModel","ngModelChange"],["type","number","placeholder","Direccion",1,"form-control","mt-2",3,"ngModel","ngModelChange","input"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"generic-container"],[4,"ngIf"],[1,"generic-container","card","p-3"],["class","card p-4 generic-container",4,"ngFor","ngForOf"],["class","btn btn-primary mb-3",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[3,"center","zoom","mapClick","mapMousemove"],["accesosMap",""],[3,"position","options","mapDragend",4,"ngIf"],[3,"position","options","mapDragend",4,"ngFor","ngForOf"],[3,"position","options","mapDragend"],[3,"radius","center",4,"ngIf"],[3,"radius","center"],[3,"radius","center","options"],[1,"card","p-4","generic-container"],[1,"input-container"],["type","text","placeholder","Nombre del acceso",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Direccion",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Precio (MXN)",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Radio",1,"form-control",3,"ngModel","value","ngModelChange","input"],[1,"btn","btn-primary","mb-3",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"input",2),e.NdJ("ngModelChange",function(r){return n.nombre=r}),e.qZA(),e.TgZ(3,"input",3),e.NdJ("ngModelChange",function(r){return n.direccion=r}),e.qZA(),e.TgZ(4,"input",4),e.NdJ("ngModelChange",function(r){return n.radio=r})("input",function(r){return n.radioChange(r)}),e.qZA(),e.YNc(5,G,2,0,"button",5),e.qZA(),e.TgZ(6,"div",6),e.YNc(7,y,2,1,"button",5),e.qZA(),e.YNc(8,I,5,4,"div",7),e.ALo(9,"async"),e.TgZ(10,"div",8)(11,"h4"),e._uU(12),e.qZA(),e.TgZ(13,"h4"),e._uU(14),e.qZA(),e.YNc(15,S,2,1,"div",7),e.YNc(16,w,2,1,"div",7),e.qZA(),e._UZ(17,"hr"),e.YNc(18,Q,10,9,"div",9),e.YNc(19,P,2,0,"button",10),e.qZA()),2&i&&(e.xp6(2),e.Q6J("ngModel",n.nombre),e.xp6(1),e.Q6J("ngModel",n.direccion),e.xp6(1),e.Q6J("ngModel",n.radio),e.xp6(1),e.Q6J("ngIf",!n.residencial.position),e.xp6(2),e.Q6J("ngIf",n.residencial.position),e.xp6(1),e.Q6J("ngIf",e.lcZ(9,12,n.apiLoaded)),e.xp6(4),e.hij("Residencial: ",n.nombre,""),e.xp6(2),e.hij("Direccion: ",n.direccion,""),e.xp6(1),e.Q6J("ngIf",n.residencial.position),e.xp6(1),e.Q6J("ngIf",n.residencial.position),e.xp6(2),e.Q6J("ngForOf",n.residencial.accesos),e.xp6(1),e.Q6J("ngIf",n.residencial.accesos.length>0))},directives:[f.Fj,f.JJ,f.On,f.wV,p.O5,C.b6,C.O_,C.Te,p.sg],pipes:[p.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.input-container[_ngcontent-%COMP%], .generic-container[_ngcontent-%COMP%], .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:10px}"]}),t})(),q=(()=>{class t{constructor(i){this.navbar=i}ngOnInit(){this.navbar.show()}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(Z.I))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-home"]],decls:1,vars:0,template:function(i,n){1&i&&e._UZ(0,"google-maps")},directives:[U],styles:[""]}),t})();function j(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"tr")(1,"th",5),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td")(18,"button",6),e._uU(19,"Editar"),e.qZA()(),e.TgZ(20,"td")(21,"button",7),e.NdJ("click",function(){const r=e.CHM(i).$implicit;return e.oxw().eliminarResidencial(r.idResidencial)}),e._uU(22,"Eliminar"),e.qZA()()()}if(2&t){const i=a.$implicit,n=a.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(i.idResidencial),e.xp6(2),e.Oqu(i.numeroSerie),e.xp6(2),e.Oqu(i.nombre),e.xp6(2),e.Oqu(i.direccion),e.xp6(2),e.Oqu(i.radio),e.xp6(2),e.Oqu(i.latitudResidencial),e.xp6(2),e.Oqu(i.longitudResidencial),e.xp6(2),e.Q6J("routerLink","/inicio/residenciales/editar/"+i.idResidencial)}}let H=(()=>{class t{constructor(i,n){this.residencialService=i,this.navbarService=n,this.residenciales=[]}ngOnInit(){this.navbarService.show(),this.obtenerResidenciales()}obtenerResidenciales(){this.residencialService.obtenerResidenciales().subscribe(i=>{this.residenciales=i})}eliminarResidencial(i){d().fire({title:"Deseas eliminar esta residencial?",showDenyButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then(n=>{n.isConfirmed&&this.residencialService.eliminarResidencial(i).subscribe({next:o=>{this.obtenerResidenciales(),d().fire("Listo!!","Eliminado correctamente","success")},error:o=>{console.log(o),d().fire("Error!!",o.error.mensaje,"error")}})})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(M),e.Y36(Z.I))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-residenciales"]],decls:29,vars:1,consts:[[1,"container"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["type","button",1,"btn","btn-primary",3,"routerLink"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Listado de Residenciales: "),e.qZA(),e.TgZ(3,"div",1)(4,"table",2)(5,"thead")(6,"tr")(7,"th",3),e._uU(8,"#"),e.qZA(),e.TgZ(9,"th",3),e._uU(10,"Id"),e.qZA(),e.TgZ(11,"th",3),e._uU(12,"Numero de Serie"),e.qZA(),e.TgZ(13,"th",3),e._uU(14,"Nombre"),e.qZA(),e.TgZ(15,"th",3),e._uU(16,"Direcci\xf3n"),e.qZA(),e.TgZ(17,"th",3),e._uU(18,"Radio"),e.qZA(),e.TgZ(19,"th",3),e._uU(20,"Latitud"),e.qZA(),e.TgZ(21,"th",3),e._uU(22,"Longitud"),e.qZA(),e.TgZ(23,"th",3),e._uU(24,"Editar"),e.qZA(),e.TgZ(25,"th",3),e._uU(26,"Eliminar"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,j,23,9,"tr",4),e.qZA()()()()),2&i&&(e.xp6(28),e.Q6J("ngForOf",n.residenciales))},directives:[p.sg,_.rH],styles:[""]}),t})();var z=c(4961);function $(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"tr")(1,"th",13),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"div",14)(15,"input",15),e.NdJ("click",function(o){const s=e.CHM(i).$implicit;return e.oxw(2).cambiarEstadoPago(s.idUsuario,o)}),e.qZA(),e.TgZ(16,"label",16),e._uU(17,"Cambiar Estado"),e.qZA()()(),e.TgZ(18,"td")(19,"button",17),e.NdJ("click",function(){const r=e.CHM(i).$implicit;return e.oxw(2).agregarGarage(r.idUsuario)}),e._uU(20,"Agregar Garage"),e.qZA()(),e.TgZ(21,"td")(22,"button",18),e.NdJ("click",function(){const r=e.CHM(i).$implicit;return e.oxw(2).eliminarUsuario(r.idUsuario)}),e._uU(23,"Eliminar"),e.qZA()()()}if(2&t){const i=a.$implicit,n=a.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(i.idUsuario),e.xp6(2),e.Oqu(i.nombreCompleto),e.xp6(2),e.Oqu(i.numeroCasa),e.xp6(2),e.Oqu(i.calle),e.xp6(2),e.Oqu(i.celular),e.xp6(3),e.Q6J("checked",i.pago)}}function D(t,a){if(1&t&&(e.TgZ(0,"div")(1,"h1"),e._uU(2,"Listado de Usuarios: "),e.qZA(),e.TgZ(3,"div",9)(4,"table",10)(5,"thead")(6,"tr")(7,"th",11),e._uU(8,"#"),e.qZA(),e.TgZ(9,"th",11),e._uU(10,"Id"),e.qZA(),e.TgZ(11,"th",11),e._uU(12,"Nombre"),e.qZA(),e.TgZ(13,"th",11),e._uU(14,"Numero Casa"),e.qZA(),e.TgZ(15,"th",11),e._uU(16,"calle"),e.qZA(),e.TgZ(17,"th",11),e._uU(18,"celular"),e.qZA(),e.TgZ(19,"th",11),e._uU(20,"Pago"),e.qZA(),e.TgZ(21,"th",11),e._uU(22,"Agregar Garage"),e.qZA(),e.TgZ(23,"th",11),e._uU(24,"Eliminar"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,$,24,7,"tr",12),e.qZA()()()()),2&t){const i=e.oxw();e.xp6(26),e.Q6J("ngForOf",i.usuarios)}}let K=(()=>{class t{constructor(i,n,o){this.usuarioService=i,this.navbarService=n,this.router=o,this.usuarios=[],this.idResidencial=""}ngOnInit(){this.idResidencial=localStorage.getItem("auth-residencial"),this.navbarService.show()}obtenerUsuarios(i){this.usuarioService.obtenerUsuariosPorIdResidencial(i).subscribe({next:n=>{console.log(n),this.usuarios=n},error:n=>{console.log(n)}})}eliminarUsuario(i){d().fire({title:"\xbfEstas seguro que deseas eliminar este usuario?",showDenyButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then(n=>{n.isConfirmed?this.usuarioService.eliminarUsuario(i).subscribe({next:o=>{this.obtenerUsuarios(this.idResidencial),d().fire("Listo!","eliminado correctamente","success")},error:o=>{d().fire("Error!",o.error.message,"error")}}):n.isDenied&&d().fire("Operacion Cancelada","","info")})}cambiarEstadoPago(i,n){console.log("entro"),console.log(n.target.checked),this.usuarioService.cambiarEstadoPago(i,{estado:n.target.checked}).subscribe({next:r=>{console.log(r)},error:r=>{console.log(r)}})}recordarResidencial(i){i.target.checked&&localStorage.setItem("auth-residencial",this.idResidencial)}agregarGarage(i){this.router.navigateByUrl("/inicio/garage/"+this.idResidencial+"/"+i)}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(z.f),e.Y36(Z.I),e.Y36(_.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-usuarios"]],decls:13,vars:2,consts:[[1,"container"],[1,"input-group"],["type","text","placeholder","Id Residencial","aria-label","Recipient's username","aria-describedby","button-addon2",1,"form-control",3,"ngModel","ngModelChange"],["input",""],["type","button","id","button-addon2",1,"btn","btn-primary",3,"click"],[1,"form-check","mt-2","mx-1"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input",3,"click"],["for","flexCheckDefault",1,"form-check-label"],[4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"form-check","form-switch"],["type","checkbox","id","flexSwitchCheckDefault",1,"form-check-input",3,"checked","click"],["for","flexSwitchCheckDefault",1,"form-check-label"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,n){if(1&i){const o=e.EpF();e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Ingrese numero de ID de la residencial:"),e.qZA(),e.TgZ(3,"div",1)(4,"input",2,3),e.NdJ("ngModelChange",function(s){return n.idResidencial=s}),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){e.CHM(o);const s=e.MAs(5);return n.obtenerUsuarios(s.value)}),e._uU(7,"Buscar"),e.qZA()(),e.TgZ(8,"div",5)(9,"input",6),e.NdJ("click",function(s){return n.recordarResidencial(s)}),e.qZA(),e.TgZ(10,"label",7),e._uU(11," Recordar Residencial "),e.qZA()(),e.YNc(12,D,27,1,"div",8),e.qZA()}2&i&&(e.xp6(4),e.Q6J("ngModel",n.idResidencial),e.xp6(8),e.Q6J("ngIf",n.usuarios.length>0))},directives:[f.Fj,f.JJ,f.On,p.O5,p.sg],styles:[""]}),t})(),X=(()=>{class t{constructor(i,n){this.navbarService=i,this.activatedRoute=n,this.idUsuario=""}ngOnInit(){this.navbarService.show(),this.idUsuario=this.activatedRoute.snapshot.params.idUsuario}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(Z.I),e.Y36(_.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-garage"]],decls:3,vars:1,consts:[[1,"text-center"]],template:function(i,n){1&i&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e._UZ(2,"google-maps")),2&i&&(e.xp6(1),e.hij("Agregando garage para el usuario:",n.idUsuario,""))},directives:[U],styles:[""]}),t})(),R=(()=>{class t{constructor(i){this.httpClient=i}obtenerGarages(){return this.httpClient.get(g.N.url+"/api/garages")}obtenerGarage(i){return this.httpClient.get(g.N.url+"/api/accesos/"+i)}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(u.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function W(t,a){if(1&t&&(e.TgZ(0,"tr")(1,"th",5),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td")(18,"button",6),e._uU(19,"Editar"),e.qZA()()()),2&t){const i=a.$implicit,n=a.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(i.idAcceso),e.xp6(2),e.Oqu(i.direccion),e.xp6(2),e.Oqu(i.latitudCaseta),e.xp6(2),e.Oqu(i.longitudCaseta),e.xp6(2),e.Oqu(i.radio),e.xp6(2),e.Oqu(i.nombre),e.xp6(2),e.Oqu(i.precio),e.xp6(2),e.Q6J("routerLink","/inicio/garages/"+i.idAcceso)}}function B(t,a){if(1&t&&e._UZ(0,"map-circle",6),2&t){const i=e.oxw(3);e.Q6J("radius",i.garage.radio)("center",i.garage.position)}}function ee(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"map-marker",4),e.NdJ("mapDragend",function(o){e.CHM(i);const r=e.oxw(2);return r.actualizarPosicionGarage(o,r.garage)}),e.YNc(1,B,1,2,"map-circle",5),e.qZA()}if(2&t){const i=e.oxw(2);e.Q6J("position",i.garage.position)("options",i.options),e.xp6(1),e.Q6J("ngIf",i.garage.position)}}function ie(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"div")(1,"google-map",1,2),e.NdJ("mapMousemove",function(o){return e.CHM(i),e.oxw().move(o)}),e.YNc(3,ee,2,3,"map-marker",3),e.qZA()()}if(2&t){const i=e.oxw();e.xp6(1),e.Q6J("center",i.garage.position)("zoom",15),e.xp6(2),e.Q6J("ngIf",null!=i.garage)}}const te=[{path:"",children:[{path:"home",component:q},{path:"residenciales",component:H},{path:"usuarios",component:K},{path:"residenciales/editar/:id",component:q},{path:"garage/:id/:idUsuario",component:X},{path:"garages",component:(()=>{class t{constructor(i,n){this.navbarService=i,this.garageService=n,this.garages=[]}ngOnInit(){this.navbarService.show(),this.garageService.obtenerGarages().subscribe({next:i=>{this.garages=i,console.log(i)}})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(Z.I),e.Y36(R))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-garages"]],decls:27,vars:1,consts:[[1,"container"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","btn-primary",3,"routerLink"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Listado de Garages: "),e.qZA(),e.TgZ(3,"div",1)(4,"table",2)(5,"thead")(6,"tr")(7,"th",3),e._uU(8,"#"),e.qZA(),e.TgZ(9,"th",3),e._uU(10,"IdGarage"),e.qZA(),e.TgZ(11,"th",3),e._uU(12,"Direccion"),e.qZA(),e.TgZ(13,"th",3),e._uU(14,"latitudCaseta"),e.qZA(),e.TgZ(15,"th",3),e._uU(16,"longitudCaseta"),e.qZA(),e.TgZ(17,"th",3),e._uU(18,"Radio"),e.qZA(),e.TgZ(19,"th",3),e._uU(20,"Nombre"),e.qZA(),e.TgZ(21,"th",3),e._uU(22,"Precio"),e.qZA(),e.TgZ(23,"th",3),e._uU(24,"Editar"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,W,20,9,"tr",4),e.qZA()()()()),2&i&&(e.xp6(26),e.Q6J("ngForOf",n.garages))},directives:[p.sg,_.rH],styles:[""]}),t})()},{path:"garages/:idGarage",component:(()=>{class t{constructor(i,n,o){this.httpClient=i,this.activatedRoute=n,this.garageService=o,this.center={lat:29.07497302489944,lng:-111.02811814895006},this.options={draggable:!0},this.apiLoaded=i.jsonp("https://maps.googleapis.com/maps/api/js?key=AIzaSyC7OWr5lnkavYApHdVUu6ywbjfKgXwyfxk","callback").pipe((0,x.U)(()=>!0),(0,h.K)(()=>(0,T.of)(!1))),this.garageService.obtenerGarage(this.activatedRoute.snapshot.params.idGarage).subscribe({next:s=>{console.log(s),this.garage=s,this.garage.position={lat:Number(s.latitudCaseta),lng:Number(s.longitudCaseta)}},error:s=>{}})}ngOnInit(){}move(i){this.display=i.latLng.toJSON()}actualizarPosicionGarage(i,n){const o={lat:i.latLng.lat(),lng:i.latLng.lng()};n.position=o,n.circle.center=o}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(u.eN),e.Y36(_.gz),e.Y36(R))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-editar-garage"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"center","zoom","mapMousemove"],["accesosMap",""],[3,"position","options","mapDragend",4,"ngIf"],[3,"position","options","mapDragend"],[3,"radius","center",4,"ngIf"],[3,"radius","center"]],template:function(i,n){1&i&&(e.YNc(0,ie,4,3,"div",0),e.ALo(1,"async")),2&i&&e.Q6J("ngIf",e.lcZ(1,1,n.apiLoaded))},directives:[p.O5,C.b6,C.O_,C.Te],pipes:[p.Ov],styles:[""]}),t})()},{path:"**",redirectTo:"home"}]}];let ne=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[_.Bz.forChild(te)],_.Bz]}),t})(),oe=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.ez,C.Y4,u.JF,u.Ed,ne,f.u5]]}),t})()}}]);