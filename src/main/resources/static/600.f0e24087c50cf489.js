"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[600],{600:(ie,v,c)=>{c.r(v),c.d(v,{PagesModule:()=>ee});var m=c(9808),f=c(5290),e=c(1223),C=c(9358),U=c(4004),_=c(262),q=c(9646),x=c(4128),Z=c(8746),R=c(5226),d=c.n(R),p=c(520),g=c(2340);let T=(()=>{class n{constructor(i){this.httpClient=i}credencialResidencial(i){const t=new p.WM({"Content-Type":"application/json;charset=UTF-8"});return this.httpClient.post(g.N.url+"/api/residencial",i,{headers:t})}crearAccesos(i){const t=new p.WM({"Content-Type":"application/json;charset=UTF-8"});return this.httpClient.post(g.N.url+"/api/accesos",i,{headers:t})}editarAcceso(i,t){const o=new p.WM({"Content-Type":"application/json;charset=UTF-8"});return this.httpClient.put(g.N.url+"/api/accesos/"+t,i,{headers:o})}obtenerAccesosPorIdResidencial(i){return this.httpClient.get(g.N.url+"/api/accesos/residencial/"+i)}obtenerResidenciales(){return this.httpClient.get(g.N.url+"/api/residencial")}editarResidencial(i,t){const o=new p.WM({"Content-Type":"application/json;charset=UTF-8"});return this.httpClient.put(g.N.url+"/api/residencial/"+t,i,{headers:o})}obtenerResidencialPorId(i){return this.httpClient.get(g.N.url+"/api/residencial/"+i)}eliminarResidencial(i){return this.httpClient.delete(g.N.url+"/api/residencial/"+i)}}return n.\u0275fac=function(i){return new(i||n)(e.LFG(p.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var h=c(3075),b=c(2932);function N(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){return e.CHM(i),e.oxw().generarResidencial()}),e._uU(1,"Generar Residencial"),e.qZA()}}function y(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){return e.CHM(i),e.oxw().generarAcceso()}),e._uU(1),e.qZA()}if(2&n){const i=e.oxw();e.xp6(1),e.Oqu(1==i.esGarage?"Generar Garage":"Generar Acceso")}}function G(n,a){if(1&n&&e._UZ(0,"map-circle",18),2&n){const i=e.oxw(3);e.Q6J("radius",i.residencial.circle.radius)("center",i.residencial.circle.center)}}function J(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"map-marker",16),e.NdJ("mapDragend",function(o){e.CHM(i);const r=e.oxw(2);return r.actualizarPosicionResidencial(o,r.residencial)}),e.YNc(1,G,1,2,"map-circle",17),e.qZA()}if(2&n){const i=e.oxw(2);e.Q6J("position",i.residencial.position)("options",i.residencial.options),e.xp6(1),e.Q6J("ngIf",i.residencial.circle)}}function k(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"map-marker",16),e.NdJ("mapDragend",function(o){const s=e.CHM(i).$implicit;return e.oxw(2).actualizarPosicion(o,s)}),e._UZ(1,"map-circle",19),e.qZA()}if(2&n){const i=a.$implicit;e.Q6J("position",i.position)("options",i.options),e.xp6(1),e.Q6J("radius",i.circle.radius)("center",i.circle.center)("options",i.circle.options)}}function O(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div")(1,"google-map",12,13),e.NdJ("mapClick",function(o){return e.CHM(i),e.oxw().moveMap(o)})("mapMousemove",function(o){return e.CHM(i),e.oxw().move(o)}),e.YNc(3,J,2,3,"map-marker",14),e.YNc(4,k,2,5,"map-marker",15),e.qZA()()}if(2&n){const i=e.oxw();e.xp6(1),e.Q6J("center",null!=i.residencial.position?i.residencial.position:i.centerMap)("zoom",15),e.xp6(2),e.Q6J("ngIf",null!=i.residencial),e.xp6(1),e.Q6J("ngForOf",null==i.residencial?null:i.residencial.accesos)}}function S(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij("Latitude: ",null==i.residencial?null:i.residencial.position.lat,"")}}function I(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij("Longitude: ",null==i.residencial?null:i.residencial.position.lng,"")}}function w(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const i=e.oxw().$implicit;e.xp6(1),e.hij("Latitude: ",null==i?null:i.position.lat,"")}}function F(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const i=e.oxw().$implicit;e.xp6(1),e.hij("Longitude: ",null==i?null:i.position.lng,"")}}function E(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const i=e.oxw().$implicit;e.xp6(1),e.hij("Latitude: ",null==i?null:i.longitudCaseta,"")}}function Y(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const i=e.oxw().$implicit;e.xp6(1),e.hij("Longitude: ",null==i?null:i.latitudCaseta,"")}}function L(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"div",20)(1,"div",21)(2,"input",22),e.NdJ("ngModelChange",function(o){return e.CHM(i).$implicit.nombre=o}),e.qZA(),e.TgZ(3,"input",23),e.NdJ("ngModelChange",function(o){return e.CHM(i).$implicit.direccion=o}),e.qZA(),e.TgZ(4,"input",24),e.NdJ("ngModelChange",function(o){return e.CHM(i).$implicit.precio=o}),e.qZA(),e.TgZ(5,"input",25),e.NdJ("ngModelChange",function(o){return e.CHM(i).$implicit.radio=o})("input",function(o){const s=e.CHM(i).$implicit;return e.oxw().radioAccesoChange(o,s)}),e.qZA()(),e.YNc(6,w,2,1,"div",7),e.YNc(7,F,2,1,"div",7),e.YNc(8,E,2,1,"div",7),e.YNc(9,Y,2,1,"div",7),e.qZA()}if(2&n){const i=a.$implicit,t=e.oxw();e.xp6(2),e.Q6J("ngModel",i.nombre),e.xp6(1),e.Q6J("ngModel",i.direccion),e.xp6(1),e.Q6J("ngModel",i.precio),e.xp6(1),e.Q6J("ngModel",i.radio)("value",0),e.xp6(1),e.Q6J("ngIf",!t.editar),e.xp6(1),e.Q6J("ngIf",!t.editar),e.xp6(1),e.Q6J("ngIf",t.editar),e.xp6(1),e.Q6J("ngIf",t.editar)}}function Q(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){return e.CHM(i),e.oxw().guardarTodo()}),e._uU(1,"Guardar Todo"),e.qZA()}}let A=(()=>{class n{constructor(i,t,o){if(this.httpClient=i,this.residencialService=t,this.activateRoute=o,this.residencial={},this.usuarioId="",this.direccion="",this.nombre="",this.numSerie="",this.idResidencial="",this.radio=0,this.colors=["green","blue","yellow","red","purple","orange"],this.esGarage=!1,this.centerMap={lat:29.07497302489944,lng:-111.02811814895006},this.center={lat:29.07497302489944,lng:-111.02811814895006},this.editar=!1,this.residencial.accesos=[],this.apiLoaded=i.jsonp("https://maps.googleapis.com/maps/api/js?key=AIzaSyC7OWr5lnkavYApHdVUu6ywbjfKgXwyfxk","callback").pipe((0,U.U)(()=>!0),(0,_.K)(()=>(0,q.of)(!1))),"garage"==o.snapshot.url[0].path&&(this.esGarage=!0),o.snapshot.params.id){let r=o.snapshot.params.id;this.usuarioId=o.snapshot.params.idUsuario,this.editar=!0,this.residencialService.obtenerResidencialPorId(r).subscribe(s=>{this.direccion=s.direccion,this.nombre=s.nombre,this.radio=s.radio,this.generarResidencial(s),this.residencialService.obtenerAccesosPorIdResidencial(r).subscribe(l=>{l.forEach(u=>{this.generarAcceso(u)})})})}else this.editar=!1;navigator.geolocation?navigator.geolocation.getCurrentPosition(this.successCallback.bind(this),this.errorCallback.bind(this)):console.log("La geolocalizaci\xf3n no es compatible en este navegador.")}successCallback(i){this.location=i.coords,console.log("Latitud: ",this.location.latitude),console.log("Longitud: ",this.location.longitude)}errorCallback(i){console.error("Error al obtener la ubicaci\xf3n: ",i)}moveMap(i){}move(i){this.display=i.latLng.toJSON()}generarResidencial(i){var t,o;if(this.editar){console.log("ajksdjkasd");let r={lat:Number(i.latitudResidencial),lng:Number(i.longitudResidencial)},l={idResidencial:i.idResidencial,numeroSerie:i.numeroSerie,position:r,options:{draggable:!0},circle:{radius:this.radio,center:r},accesos:[]};this.residencial=l,console.log(l)}else{let r={lat:null===(t=this.centerMap)||void 0===t?void 0:t.lat,lng:null===(o=this.centerMap)||void 0===o?void 0:o.lng};this.residencial={position:r,options:{draggable:!0},circle:{radius:this.radio,center:r},accesos:[]},console.log(this.residencial)}}radioChange(i){this.residencial.circle.radius=Number(i.target.value)}radioAccesoChange(i,t){t.circle.radius=Number(i.target.value)}actualizarPosicionResidencial(i,t){const o={lat:i.latLng.lat(),lng:i.latLng.lng()};t.position=o,t.circle.center=o}generateRandomNumber(){return Math.floor(1e3+9e3*Math.random())}getRandomInt(i){return Math.floor(Math.random()*i)}generarAcceso(i){if(console.log(i),this.editar&&null!=i){console.log("entro");let t={lat:Number(i.latitudCaseta),lng:Number(i.longitudCaseta)},o={draggable:!0},r={fillColor:this.colors[this.getRandomInt(this.colors.length)]},s={id:i.idAcceso,position:t,options:o,circle:{radius:i.radio,center:t,options:r},nombre:i.nombre,direccion:i.direccion,precio:i.precio,radio:i.radio,longitudCaseta:i.longitudCaseta,latitudCaseta:i.latitudCaseta};console.log(s),this.residencial.accesos.push(s)}else{let t={lat:this.residencial.position.lat,lng:this.residencial.position.lng},o={draggable:!0},r={fillColor:this.colors[this.getRandomInt(this.colors.length)]};this.residencial.accesos.push({position:t,options:o,circle:{radius:3,center:t,options:r}})}}actualizarPosicion(i,t){const o={lat:i.latLng.lat(),lng:i.latLng.lng()};this.editar?(t.latitudCaseta=Number(i.latLng.lat()),t.longitudCaseta=Number(i.latLng.lng()),t.position=o,console.log(t)):t.position=o,t.circle.center=o}guardarTodo(){if(d().showLoading(),this.editar)this.residencialService.editarResidencial({nombre:this.nombre,direccion:this.direccion,numeroSerie:this.residencial.numeroSerie,latitudResidencial:this.residencial.position.lat,longitudResidencial:this.residencial.position.lng,radio:this.residencial.circle.radius},this.residencial.idResidencial).subscribe({next:t=>{d().fire("Listo!","Residencial editada correctamente","success");const o=this.residencial.accesos.map((r,s)=>{const l={idAcceso:null!=r.id?r.id:0,idResidencial:this.residencial.idResidencial,latitudCaseta:r.latitudCaseta,longitudCaseta:r.longitudCaseta,direccion:r.direccion,nombre:r.nombre,precio:r.precio,radio:r.circle.radius,garage:this.esGarage,usuarioId:this.usuarioId};return 0==l.idAcceso?(console.log("ENTRO A CREACI\xd3N UWUWUWU"),this.residencialService.crearAccesos(l).pipe((0,_.K)(u=>{throw console.log("Error!!",u.error.message),u}))):this.residencialService.editarAcceso(l,l.idAcceso).pipe((0,_.K)(u=>{throw console.log("Error!!",u.error.message),u}))});(0,x.D)(o).pipe((0,_.K)(r=>{throw console.log("Error!!",r.error.message),r}),(0,Z.x)(()=>{d().fire("Listo!","Residencial Editada correctamente","success"),this.residencial.accesos=[]})).subscribe(r=>{r.forEach(s=>{this.numSerie=s.numSerie,this.idResidencial=s.idResidencial,console.log("Respuesta: ",s)}),(0,Z.x)(()=>{d().fire("Error!",t.error.error,"error")})})},error:t=>{d().fire("Error!",t.error.error,"error")}});else{const i={nombre:this.nombre,direccion:this.direccion,numeroSerie:this.generateRandomNumber(),latitudResidencial:this.residencial.position.lat,longitudResidencial:this.residencial.position.lng,radio:this.residencial.circle.radius};this.residencialService.credencialResidencial(i).pipe((0,_.K)(t=>{throw console.log("Error!!",t.error.message),t})).subscribe(t=>{this.numSerie=t.numSerie,this.idResidencial=t.idResidencial,console.log("Respuesta: ",t);const o=this.residencial.accesos.map((r,s)=>this.residencialService.crearAccesos({idResidencial:this.idResidencial,latitudCaseta:r.position.lat,longitudCaseta:r.position.lng,direccion:r.direccion,nombre:r.nombre,precio:r.precio,radio:r.circle.radius}).pipe((0,_.K)(u=>{throw console.log("Error!!",u.error.message),u})));(0,x.D)(o).pipe((0,_.K)(r=>{throw console.log("Error!!",r.error.message),r}),(0,Z.x)(()=>{d().fire("Listo!","Residencial Creada correctamente","success"),this.residencial=null,this.residencial.accesos=[]})).subscribe(r=>{r.forEach(s=>{this.numSerie=s.numSerie,this.idResidencial=s.idResidencial,console.log("Respuesta: ",s)}),(0,Z.x)(()=>{})})})}}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(p.eN),e.Y36(T),e.Y36(f.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["google-maps"]],decls:20,vars:14,consts:[[1,"container"],[1,"input-container","card","p-4"],["type","text","placeholder","Nombre de la residencial",1,"form-control","mt-2",3,"ngModel","ngModelChange"],["type","text","placeholder","Direccion",1,"form-control","mt-2",3,"ngModel","ngModelChange"],["type","number","placeholder","Direccion",1,"form-control","mt-2",3,"ngModel","ngModelChange","input"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"generic-container"],[4,"ngIf"],[1,"generic-container","card","p-3"],["class","card p-4 generic-container",4,"ngFor","ngForOf"],["class","btn btn-primary mb-3",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[3,"center","zoom","mapClick","mapMousemove"],["accesosMap",""],[3,"position","options","mapDragend",4,"ngIf"],[3,"position","options","mapDragend",4,"ngFor","ngForOf"],[3,"position","options","mapDragend"],[3,"radius","center",4,"ngIf"],[3,"radius","center"],[3,"radius","center","options"],[1,"card","p-4","generic-container"],[1,"input-container"],["type","text","placeholder","Nombre del acceso",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Direccion",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Precio (MXN)",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Radio",1,"form-control",3,"ngModel","value","ngModelChange","input"],[1,"btn","btn-primary","mb-3",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"input",2),e.NdJ("ngModelChange",function(r){return t.nombre=r}),e.qZA(),e.TgZ(3,"input",3),e.NdJ("ngModelChange",function(r){return t.direccion=r}),e.qZA(),e.TgZ(4,"input",4),e.NdJ("ngModelChange",function(r){return t.radio=r})("input",function(r){return t.radioChange(r)}),e.qZA(),e.YNc(5,N,2,0,"button",5),e.qZA(),e.TgZ(6,"div",6),e.YNc(7,y,2,1,"button",5),e.qZA(),e.YNc(8,O,5,4,"div",7),e.ALo(9,"async"),e.TgZ(10,"div",8)(11,"h4"),e._uU(12),e.qZA(),e.TgZ(13,"h4"),e._uU(14),e.qZA(),e.YNc(15,S,2,1,"div",7),e.YNc(16,I,2,1,"div",7),e.qZA(),e._UZ(17,"hr"),e.YNc(18,L,10,9,"div",9),e.YNc(19,Q,2,0,"button",10),e.qZA()),2&i&&(e.xp6(2),e.Q6J("ngModel",t.nombre),e.xp6(1),e.Q6J("ngModel",t.direccion),e.xp6(1),e.Q6J("ngModel",t.radio),e.xp6(1),e.Q6J("ngIf",!t.residencial.position),e.xp6(2),e.Q6J("ngIf",t.residencial.position),e.xp6(1),e.Q6J("ngIf",e.lcZ(9,12,t.apiLoaded)),e.xp6(4),e.hij("Residencial: ",t.nombre,""),e.xp6(2),e.hij("Direccion: ",t.direccion,""),e.xp6(1),e.Q6J("ngIf",t.residencial.position),e.xp6(1),e.Q6J("ngIf",t.residencial.position),e.xp6(2),e.Q6J("ngForOf",t.residencial.accesos),e.xp6(1),e.Q6J("ngIf",t.residencial.accesos.length>0))},directives:[h.Fj,h.JJ,h.On,h.wV,m.O5,b.b6,b.O_,b.Te,m.sg],pipes:[m.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.input-container[_ngcontent-%COMP%], .generic-container[_ngcontent-%COMP%], .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:10px}"]}),n})(),M=(()=>{class n{constructor(i){this.navbar=i}ngOnInit(){this.navbar.show()}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(C.I))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:1,vars:0,template:function(i,t){1&i&&e._UZ(0,"google-maps")},directives:[A],styles:[""]}),n})();function P(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"tr")(1,"th",5),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td")(18,"button",6),e._uU(19,"Editar"),e.qZA()(),e.TgZ(20,"td")(21,"button",7),e.NdJ("click",function(){const r=e.CHM(i).$implicit;return e.oxw().eliminarResidencial(r.idResidencial)}),e._uU(22,"Eliminar"),e.qZA()()()}if(2&n){const i=a.$implicit,t=a.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu(i.idResidencial),e.xp6(2),e.Oqu(i.numeroSerie),e.xp6(2),e.Oqu(i.nombre),e.xp6(2),e.Oqu(i.direccion),e.xp6(2),e.Oqu(i.radio),e.xp6(2),e.Oqu(i.latitudResidencial),e.xp6(2),e.Oqu(i.longitudResidencial),e.xp6(2),e.Q6J("routerLink","/inicio/residenciales/editar/"+i.idResidencial)}}let j=(()=>{class n{constructor(i,t){this.residencialService=i,this.navbarService=t,this.residenciales=[]}ngOnInit(){this.navbarService.show(),this.obtenerResidenciales()}obtenerResidenciales(){this.residencialService.obtenerResidenciales().subscribe(i=>{this.residenciales=i})}eliminarResidencial(i){d().fire({title:"Deseas eliminar esta residencial?",showDenyButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then(t=>{t.isConfirmed&&this.residencialService.eliminarResidencial(i).subscribe({next:o=>{this.obtenerResidenciales(),d().fire("Listo!!","Eliminado correctamente","success")},error:o=>{console.log(o),d().fire("Error!!",o.error.mensaje,"error")}})})}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(T),e.Y36(C.I))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-residenciales"]],decls:29,vars:1,consts:[[1,"container"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["type","button",1,"btn","btn-primary",3,"routerLink"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Listado de Residenciales: "),e.qZA(),e.TgZ(3,"div",1)(4,"table",2)(5,"thead")(6,"tr")(7,"th",3),e._uU(8,"#"),e.qZA(),e.TgZ(9,"th",3),e._uU(10,"Id"),e.qZA(),e.TgZ(11,"th",3),e._uU(12,"Numero de Serie"),e.qZA(),e.TgZ(13,"th",3),e._uU(14,"Nombre"),e.qZA(),e.TgZ(15,"th",3),e._uU(16,"Direcci\xf3n"),e.qZA(),e.TgZ(17,"th",3),e._uU(18,"Radio"),e.qZA(),e.TgZ(19,"th",3),e._uU(20,"Latitud"),e.qZA(),e.TgZ(21,"th",3),e._uU(22,"Longitud"),e.qZA(),e.TgZ(23,"th",3),e._uU(24,"Editar"),e.qZA(),e.TgZ(25,"th",3),e._uU(26,"Eliminar"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,P,23,9,"tr",4),e.qZA()()()()),2&i&&(e.xp6(28),e.Q6J("ngForOf",t.residenciales))},directives:[m.sg,f.rH],styles:[""]}),n})();var H=c(4961);function $(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"tr")(1,"th",13),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"div",14)(15,"input",15),e.NdJ("click",function(o){const s=e.CHM(i).$implicit;return e.oxw(2).cambiarEstadoPago(s.idUsuario,o)}),e.qZA(),e.TgZ(16,"label",16),e._uU(17,"Cambiar Estado"),e.qZA()()(),e.TgZ(18,"td")(19,"button",17),e.NdJ("click",function(){const r=e.CHM(i).$implicit;return e.oxw(2).agregarGarage(r.idUsuario)}),e._uU(20,"Agregar Garage"),e.qZA()(),e.TgZ(21,"td")(22,"button",18),e.NdJ("click",function(){const r=e.CHM(i).$implicit;return e.oxw(2).eliminarUsuario(r.idUsuario)}),e._uU(23,"Eliminar"),e.qZA()()()}if(2&n){const i=a.$implicit,t=a.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu(i.idUsuario),e.xp6(2),e.Oqu(i.nombreCompleto),e.xp6(2),e.Oqu(i.numeroCasa),e.xp6(2),e.Oqu(i.calle),e.xp6(2),e.Oqu(i.celular),e.xp6(3),e.Q6J("checked",i.pago)}}function z(n,a){if(1&n&&(e.TgZ(0,"div")(1,"h1"),e._uU(2,"Listado de Usuarios: "),e.qZA(),e.TgZ(3,"div",9)(4,"table",10)(5,"thead")(6,"tr")(7,"th",11),e._uU(8,"#"),e.qZA(),e.TgZ(9,"th",11),e._uU(10,"Id"),e.qZA(),e.TgZ(11,"th",11),e._uU(12,"Nombre"),e.qZA(),e.TgZ(13,"th",11),e._uU(14,"Numero Casa"),e.qZA(),e.TgZ(15,"th",11),e._uU(16,"calle"),e.qZA(),e.TgZ(17,"th",11),e._uU(18,"celular"),e.qZA(),e.TgZ(19,"th",11),e._uU(20,"Pago"),e.qZA(),e.TgZ(21,"th",11),e._uU(22,"Agregar Garage"),e.qZA(),e.TgZ(23,"th",11),e._uU(24,"Eliminar"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,$,24,7,"tr",12),e.qZA()()()()),2&n){const i=e.oxw();e.xp6(26),e.Q6J("ngForOf",i.usuarios)}}let D=(()=>{class n{constructor(i,t,o){this.usuarioService=i,this.navbarService=t,this.router=o,this.usuarios=[],this.idResidencial=""}ngOnInit(){this.idResidencial=localStorage.getItem("auth-residencial"),this.navbarService.show()}obtenerUsuarios(i){this.usuarioService.obtenerUsuariosPorIdResidencial(i).subscribe({next:t=>{console.log(t),this.usuarios=t},error:t=>{console.log(t)}})}eliminarUsuario(i){d().fire({title:"\xbfEstas seguro que deseas eliminar este usuario?",showDenyButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then(t=>{t.isConfirmed?this.usuarioService.eliminarUsuario(i).subscribe({next:o=>{this.obtenerUsuarios(this.idResidencial),d().fire("Listo!","eliminado correctamente","success")},error:o=>{d().fire("Error!",o.error.message,"error")}}):t.isDenied&&d().fire("Operacion Cancelada","","info")})}cambiarEstadoPago(i,t){console.log("entro"),console.log(t.target.checked),this.usuarioService.cambiarEstadoPago(i,{estado:t.target.checked}).subscribe({next:r=>{console.log(r)},error:r=>{console.log(r)}})}recordarResidencial(i){i.target.checked&&localStorage.setItem("auth-residencial",this.idResidencial)}agregarGarage(i){this.router.navigateByUrl("/inicio/garage/"+this.idResidencial+"/"+i)}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(H.f),e.Y36(C.I),e.Y36(f.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-usuarios"]],decls:13,vars:2,consts:[[1,"container"],[1,"input-group"],["type","text","placeholder","Id Residencial","aria-label","Recipient's username","aria-describedby","button-addon2",1,"form-control",3,"ngModel","ngModelChange"],["input",""],["type","button","id","button-addon2",1,"btn","btn-primary",3,"click"],[1,"form-check","mt-2","mx-1"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input",3,"click"],["for","flexCheckDefault",1,"form-check-label"],[4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"form-check","form-switch"],["type","checkbox","id","flexSwitchCheckDefault",1,"form-check-input",3,"checked","click"],["for","flexSwitchCheckDefault",1,"form-check-label"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,t){if(1&i){const o=e.EpF();e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Ingrese numero de ID de la residencial:"),e.qZA(),e.TgZ(3,"div",1)(4,"input",2,3),e.NdJ("ngModelChange",function(s){return t.idResidencial=s}),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){e.CHM(o);const s=e.MAs(5);return t.obtenerUsuarios(s.value)}),e._uU(7,"Buscar"),e.qZA()(),e.TgZ(8,"div",5)(9,"input",6),e.NdJ("click",function(s){return t.recordarResidencial(s)}),e.qZA(),e.TgZ(10,"label",7),e._uU(11," Recordar Residencial "),e.qZA()(),e.YNc(12,z,27,1,"div",8),e.qZA()}2&i&&(e.xp6(4),e.Q6J("ngModel",t.idResidencial),e.xp6(8),e.Q6J("ngIf",t.usuarios.length>0))},directives:[h.Fj,h.JJ,h.On,m.O5,m.sg],styles:[""]}),n})(),K=(()=>{class n{constructor(i,t){this.navbarService=i,this.activatedRoute=t,this.idUsuario=""}ngOnInit(){this.navbarService.show(),this.idUsuario=this.activatedRoute.snapshot.params.idUsuario}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(C.I),e.Y36(f.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-garage"]],decls:3,vars:1,consts:[[1,"text-center"]],template:function(i,t){1&i&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e._UZ(2,"google-maps")),2&i&&(e.xp6(1),e.hij("Agregando garage para el usuario:",t.idUsuario,""))},directives:[A],styles:[""]}),n})(),W=(()=>{class n{constructor(i){this.httpClient=i}obtenerGarages(){return this.httpClient.get(g.N.url+"/api/garages")}}return n.\u0275fac=function(i){return new(i||n)(e.LFG(p.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"th",5),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA()()),2&n){const i=a.$implicit,t=a.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu(i.idAcceso),e.xp6(2),e.Oqu(i.direccion),e.xp6(2),e.Oqu(i.latitudCaseta),e.xp6(2),e.Oqu(i.longitudCaseta),e.xp6(2),e.Oqu(i.radio),e.xp6(2),e.Oqu(i.nombre),e.xp6(2),e.Oqu(i.precio)}}const V=[{path:"",children:[{path:"home",component:M},{path:"residenciales",component:j},{path:"usuarios",component:D},{path:"residenciales/editar/:id",component:M},{path:"garage/:id/:idUsuario",component:K},{path:"garages",component:(()=>{class n{constructor(i,t){this.navbarService=i,this.garageService=t,this.garages=[]}ngOnInit(){this.navbarService.show(),this.garageService.obtenerGarages().subscribe({next:i=>{this.garages=i,console.log(i)}})}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(C.I),e.Y36(W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-garages"]],decls:25,vars:1,consts:[[1,"container"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Listado de Garages: "),e.qZA(),e.TgZ(3,"div",1)(4,"table",2)(5,"thead")(6,"tr")(7,"th",3),e._uU(8,"#"),e.qZA(),e.TgZ(9,"th",3),e._uU(10,"IdGarage"),e.qZA(),e.TgZ(11,"th",3),e._uU(12,"Direccion"),e.qZA(),e.TgZ(13,"th",3),e._uU(14,"latitudCaseta"),e.qZA(),e.TgZ(15,"th",3),e._uU(16,"longitudCaseta"),e.qZA(),e.TgZ(17,"th",3),e._uU(18,"Radio"),e.qZA(),e.TgZ(19,"th",3),e._uU(20,"Nombre"),e.qZA(),e.TgZ(21,"th",3),e._uU(22,"Precio"),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,X,17,8,"tr",4),e.qZA()()()()),2&i&&(e.xp6(24),e.Q6J("ngForOf",t.garages))},directives:[m.sg],styles:[""]}),n})()},{path:"**",redirectTo:"home"}]}];let B=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[f.Bz.forChild(V)],f.Bz]}),n})(),ee=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.ez,b.Y4,p.JF,p.Ed,B,h.u5]]}),n})()}}]);